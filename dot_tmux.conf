#
# Reload window using pre-I
#

# some stuff to make vim colors work
set -g default-terminal "xterm"

# tmux colors
set -s default-terminal "tmux-256color"
set -as terminal-overrides ",*-256color:Tc"

# change the prefix from c-b to c-a
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# make configuring this file easier
unbind R
bind R source-file ~/.tmux.conf \; display-message "Config reloaded..."

# setting that makes new windows, split panes, etc open from the same window
bind '"' split-window -c "#{pane_current_path}"
bind '%' split-window -h -c "#{pane_current_path}"

# facilitate reordering for harpoon
# initialize prompt with default (#S) and provide the users's input to the result
     # command-prompt [-1ikNTW] [-I inputs] [-p prompts] [-t target-client] [template]
unbind r
bind r command-prompt -I "#S" "rename-session '%%'"

# custom bindings
# consider moving these to 0123 if they are less commonly used
bind-key j run-shell "bash tmux_session_switch_client 0"
bind-key k run-shell "bash tmux_session_switch_client 1"
bind-key l run-shell "bash tmux_session_switch_client 2"
unbind ";"
bind-key ";" run-shell "bash tmux_session_switch_client 3"

# m should match harpoon
# the new "paradigm" for harpoon is to sort by session names
# choose-tree (pre-m), and the harpoon commands adhere to this behaviour
# session names, when created by the sessionizer script, are put in lowercase by default
# (choose-tree only works on lowercase names)
# see line 1078 of tmux manpage
unbind m
bind-key m choose-tree -O name

# List of plugins
# don't remember what these do
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# session manager
# https://github.com/27medkamal/tmux-session-wizard
# pre - T
set -g @plugin '27medkamal/tmux-session-wizard'

# provides ui for managing sessions, windows, etc
# https://github.com/sainnhe/tmux-fzf
# pre + F
set -g @plugin 'sainnhe/tmux-fzf'

# note that prime's paradigm is implemented in local bin tmux

# try different powerline
# set -g @plugin 'erikw/tmux-powerline'

# more pretty powerline
set -g @plugin 'dracula/tmux'
set -g @dracula-show-powerline true
set -g @dracula-fixed-location "Palo Alto"
set -g @dracula-plugins "weather"
set -g @dracula-show-flags true
set -g @dracula-show-left-icon session
# set -g status-position top

# tmux-resurrect
# prefix + Ctrl-s - save
# prefix + Ctrl-r - restore
set -g @plugin 'tmux-plugins/tmux-resurrect'

# Other examples:
# set -g @plugin 'github_username/plugin_name'
# set -g @plugin 'github_username/plugin_name#branch'
# set -g @plugin 'git@github.com:user/plugin'
# set -g @plugin 'git@bitbucket.com:user/plugin'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run -b '~/.tmux/plugins/tpm/tpm'

# display-message "loaded tmux conf"
